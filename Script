--Load library
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

--Create Main Window
local Window = Rayfield:CreateWindow({
   Name = "[ğŸ¦´] Fisch | Version 0.0.55_fix17",
   LoadingTitle = "[ğŸ¦´] Fisch",
   LoadingSubtitle = "by Kirymeww",
   Theme = "Default",
   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false,

   ConfigurationSaving = {
      Enabled = true,
      FolderName = "Fisch",
      FileName = "FischCfg"
   },

   KeySystem = true,
   KeySettings = {
      Title = "[ğŸ¦´] Fisch",
      Subtitle = "ğŸ”‘ Key System",
      Note = "Nope.",
      SaveKey = true,
      Key = {"mayke1"}
   }
})

--Services
local GuiService = game:GetService("GuiService")
local VirtualInputManager = game:GetService("VirtualInputManager")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

--Values
_G.acast = false
_G.ashake = false
_G.areel = false
_G.freezep = false
_G.asell = false
_G.asellinhand = false

_G.areelmode = false
_G.ashakemode = true
_G.ashakespeed = true
_G.acastmode = true
_G.tpmode = true
_G.smerchant = nil

_G.plspeed = 16
_G.pljump = 50

_G.espisonade = false

local themes = {
    {"ğŸŒŸ Default", "Default"},
    {"âœ¨ Amber Glow", "AmberGlow"},
    {"ğŸ’œ Amethyst", "Amethyst"},
    {"ğŸŒ¸ Bloom", "Bloom"},
    {"ğŸŒŒ Dark Blue", "DarkBlue"},
    {"ğŸƒ Green", "Green"},
    {"ğŸŒ Light", "Light"},
    {"ğŸŒŠ Ocean", "Ocean"},
    {"ğŸŒ¿ Serenity", "Serenity"}
}

--Functions
local function clickAndHoldCenterOfScreen()
    local player = game:GetService("Players").LocalPlayer
    local camera = game:GetService("Workspace").CurrentCamera
    local screenWidth = camera.ViewportSize.X
    local screenHeight = camera.ViewportSize.Y
    local shakeui = player.PlayerGui:FindFirstChild("shakeui")
    local reelui = player.PlayerGui:FindFirstChild("reel")

    local centerX = screenWidth / 2
    local centerY = screenHeight / 2

    local rod = nil

    if player.Character and player.Character:FindFirstChildOfClass("Tool") then
        rod = player.Character:FindFirstChildOfClass("Tool")
    else
        for _, item in ipairs(player.Backpack:GetChildren()) do
            if item.Name:find("Rod") then
                rod = item
                break
            end
        end
    end

    if rod then
        if rod.Parent ~= player.Character then
            rod.Parent = player.Character
        end

        if not shakeui and not reelui then
            VirtualInputManager:SendMouseButtonEvent(centerX, centerY, 0, true, player, 0)
            task.wait(1.5)
            VirtualInputManager:SendMouseButtonEvent(centerX, centerY, 0, false, player, 0)
        end
    end
end

local function AutoCastEvent()
   while _G.acast do
      local player = game.Players.LocalPlayer
      local rod = nil

      if player.Character and player.Character:FindFirstChildOfClass("Tool") then
         rod = player.Character:FindFirstChildOfClass("Tool")
      else
         for _, item in ipairs(player.Backpack:GetChildren()) do
            if item.Name:find("Rod") then
               rod = item
               break
            end
         end
      end

      if rod then
         if rod.Parent ~= player.Character then
            rod.Parent = player.Character
         end

      local args = {
         [1] = 100,
         [2] = 1
      }

         if rod:FindFirstChild("events") and rod.events:FindFirstChild("cast") then
            rod.events.cast:FireServer(unpack(args))
         end
      end
      task.wait(0.5)
   end
end

local function AutoCast()
    while _G.acast do
        if _G.acastmode then
            AutoCastEvent()
            task.wait(0.01)
        else
            clickAndHoldCenterOfScreen()
            task.wait(0.01)
        end
    end
end

local function navigateAndClick()
    local player = Players.LocalPlayer
    local button = player.PlayerGui:FindFirstChild("shakeui") and player.PlayerGui.shakeui:FindFirstChild("safezone") and player.PlayerGui.shakeui.safezone:FindFirstChild("button")

    if button then
        GuiService.SelectedObject = button
        if GuiService.SelectedObject == button then
            VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Return, false, nil)
            VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Return, false, nil)
        end
    end
end

local function clickWithCursor()
    local player = Players.LocalPlayer
    local button = player.PlayerGui:FindFirstChild("shakeui") and player.PlayerGui.shakeui:FindFirstChild("safezone") and player.PlayerGui.shakeui.safezone:FindFirstChild("button")

    if button then
        local bPos = button.AbsolutePosition
        local bSize = button.AbsoluteSize
        local centerX = bPos.X + (bSize.X / 2) + 50
        local centerY = bPos.Y + (bSize.Y / 2) + 50
        VirtualInputManager:SendMouseButtonEvent(centerX, centerY, 0, true, player, 0)
        VirtualInputManager:SendMouseButtonEvent(centerX, centerY, 0, false, player, 0)
    end
end

local function AutoShake()
    while _G.ashake do
        if _G.ashakemode then
            navigateAndClick()
            if _G.ashakespeed then
                task.wait(0.001)
            else
                task.wait(math.random(50, 110) / 100)
            end
        else
            clickWithCursor()
            if _G.ashakespeed then
                task.wait(0.001)
            else
                task.wait(math.random(50, 110) / 100)
            end
        end
    end
end

local function NormalReelGui()
    local player = Players.LocalPlayer
    local playerbar = player.PlayerGui:FindFirstChild("reel") and player.PlayerGui.reel:FindFirstChild("bar") and player.PlayerGui.reel.bar:FindFirstChild("playerbar")

    if playerbar then
        playerbar.Position = UDim2.new(0.5, 0, 0.5, 0)
        playerbar.Size = UDim2.new(1, 0, 1.3, 0)
    end
end

local function AutoReel()
    local args = {}

    while _G.areel do
        if _G.areelmode then
            NormalReelGui()
            args = {}
        else
            args = {
                [1] = 100,
                [2] = true
            }
        end

        if #args > 0 then
            game:GetService("ReplicatedStorage").events.reelfinished:FireServer(unpack(args))
        end
        task.wait(0.2)
    end
end

local function AutoSell()
   while _G.asell do
      if _G.smerchant then
         local merchant = workspace.world.npcs:FindFirstChild(_G.smerchant)
         if merchant then
            merchant.merchant.sellall:InvokeServer()
         end
      end
      task.wait(0.1)
   end
end

local function AutoSellInHand()
   while _G.asellinhand do
      if _G.smerchant then
         local merchant = workspace.world.npcs:FindFirstChild(_G.smerchant)
         if merchant then
            merchant.merchant.sell:InvokeServer()
         end
      end
      task.wait(0.2)
   end
end

local function FreezePlayer()
   local player = game.Players.LocalPlayer
   local initialCFrame = nil
   local humanoid = nil

   while _G.freezep do
      if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
         if not initialCFrame then
            initialCFrame = player.Character.HumanoidRootPart.CFrame
            humanoid = player.Character:FindFirstChildOfClass("Humanoid")
            if humanoid then
               humanoid.WalkSpeed = 0
               humanoid.JumpPower = 0
            end
         end
         player.Character.HumanoidRootPart.CFrame = initialCFrame
      end
      task.wait(0.01)
   end

   if humanoid then
      humanoid.WalkSpeed = _G.plspeed
      humanoid.JumpPower = _G.pljump
   end
end

local function Espisonade()
   local player = game.Players.LocalPlayer
   local notifiedIsonades = {}
   local isonades = workspace:FindFirstChild("zones")

   while _G.espisonade do
      if isonades and isonades:FindFirstChild("fishing") then
         for _, isonade in pairs(isonades.fishing:GetChildren()) do
            if isonade.Name == "Isonade" and not isonade:FindFirstChild("BillboardGui") then
               local billboardGui = Instance.new("BillboardGui")
               local textLabel = Instance.new("TextLabel")

               billboardGui.Adornee = isonade
               billboardGui.Size = UDim2.new(0, 150, 0, 40)
               billboardGui.StudsOffset = Vector3.new(0, 110, 0)
               billboardGui.AlwaysOnTop = true
               textLabel.Parent = billboardGui
               textLabel.Size = UDim2.new(1, 0, 1, 0)
               textLabel.BackgroundTransparency = 1
               textLabel.TextColor3 = Color3.fromRGB(200, 100, 150)
               textLabel.TextScaled = false
               textLabel.TextSize = 14
               textLabel.Font = Enum.Font.FredokaOne
               textLabel.Text = "Isonade"
               billboardGui.Parent = isonade

               -- ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ñ‹ Ğ·Ğ¾Ğ½Ñ‹ Isonade
               local position = isonade.Position
               local coords = string.format("X: %.2f, Y: %.2f, Z: %.2f", position.X, position.Y, position.Z)

               if not notifiedIsonades[isonade] then
                  Rayfield:Notify({
                     Title = "ğŸš© Event",
                     Content = "Isonade zone at " .. coords,
                     Duration = 3,
                     Image = "flag",
                  })
                  notifiedIsonades[isonade] = true
               end
            end
         end
      end
      task.wait(1)
   end
end

local function DelEspisonade()
   for _, isonade in pairs(workspace:FindFirstChild("zones").fishing:GetChildren()) do
      if isonade:FindFirstChild("BillboardGui") then
         isonade.BillboardGui:Destroy()
      end
   end
end

local function teleportPlayer(x, y, z)
    local player = game.Players.LocalPlayer
    if player and player.Character then
        local character = player.Character
        local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

        if _G.tpmode then
            humanoidRootPart.CFrame = CFrame.new(x, y, z)
        else
            local tweenService = game:GetService("TweenService")
            local tweenInfo = TweenInfo.new(10, Enum.EasingStyle.Sine, Enum.EasingDirection.Out)
            local goal = {CFrame = CFrame.new(x, y, z)}
            local tween = tweenService:Create(humanoidRootPart, tweenInfo, goal)
            tween:Play()
        end
    end
end

local function chooseRandomTheme()
    math.randomseed(os.time())
    return themes[math.random(1, #themes)]
end

--Tabs
local ma = Window:CreateTab("Fisching", "fish")
local tp = Window:CreateTab("Teleport", "earth")
local treasure = Window:CreateTab("Treasure", "gem")
local misc = Window:CreateTab("Misc", "hammer")
local setting = Window:CreateTab("Settings", "bolt")

--Main
local Section = ma:CreateSection("ğŸ£ Auto Cast")
local acastmode = ma:CreateDropdown({
   Name = "ğŸ£ Select Cast Mode",
   Options = {"âš¡ RemoteEvent", "ğŸ–± Mouse"},
   CurrentOption = {"âš¡ RemoteEvent"},
   MultipleOptions = false,
   Flag = "acastmode",
   Callback = function(Options)
      if Options[1] == "âš¡ RemoteEvent" then
         _G.acastmode = true
      else
         _G.acastmode = false
      end
   end,
})

local acast = ma:CreateToggle({
   Name = "ğŸ£ Auto Cast",
   CurrentValue = false,
   Flag = "acast",
   Callback = function(AcastV)
         _G.acast = AcastV
         AutoCast()
   end,
})

local Section = ma:CreateSection("ğŸ”€ Auto Shake")
local ashakespeed = ma:CreateDropdown({
   Name = "âš¡ Select Shake Speed",
   Options = {"ğŸŸ¨ Cheat", "ğŸŸ© Human"},
   CurrentOption = {"ğŸŸ¨ Cheat"},
   MultipleOptions = false,
   Flag = "ashakespeed",
   Callback = function(Options)
      if Options[1] == "ğŸŸ¨ Cheat" then
         _G.ashakespeed = true
      else
         _G.ashakespeed = false
      end
   end,
})

local ashakemode = ma:CreateDropdown({
   Name = "ğŸ”€ Select Shake Mode",
   Options = {"âŒ¨ KeyCode", "ğŸ–± Mouse"},
   CurrentOption = {"âŒ¨ KeyCode"},
   MultipleOptions = false,
   Flag = "ashakemode",
   Callback = function(Options)
      if Options[1] == "âŒ¨ KeyCode" then
         _G.ashakemode = true
      else
         _G.ashakemode = false
      end
   end,
})

local ashake = ma:CreateToggle({
   Name = "ğŸ”€ Auto Shake",
   CurrentValue = false,
   Flag = "ashake",
   Callback = function(AshakeV)
         _G.ashake = AshakeV
         AutoShake()
   end,
})

local Section = ma:CreateSection("ğŸ”ƒ Auto Reel")
local areelmode = ma:CreateDropdown({
   Name = "ğŸ”ƒ Select Reel Mode",
   Options = {"ğŸŸ© Normal", "ğŸŸ¨ Instant"},
   CurrentOption = {"ğŸŸ¨ Instant"},
   MultipleOptions = false,
   Flag = "areelmode",
   Callback = function(Options)
      if Options[1] == "ğŸŸ© Normal" then
         _G.areelmode = true
      else
         _G.areelmode = false
      end
   end,
})

local areel = ma:CreateToggle({
   Name = "ğŸ”ƒ Auto Reel",
   CurrentValue = false,
   Flag = "areel",
   Callback = function(AreelV)
         _G.areel = AreelV
         AutoReel()
   end,
})

local Section = ma:CreateSection("ğŸ›’ Merchant")
local smerchant = ma:CreateDropdown({
   Name = "ğŸ‘¨â€ğŸ¦° Select Merchant",
   Options = {
      "ğŸŒ² Marc", "ğŸ– Matt", "ğŸŒ Max", "â„ï¸ Mike", 
      "âš› Marytn", "ğŸŒŠ Maverick", "ğŸŒŒ Mel", "â› Milo"
   },
   CurrentOption = "",  
   MultipleOptions = false,
   Flag = "smerchant",
   Callback = function(Options)
      local selectedMerchant = Options[1]
      if selectedMerchant == "ğŸŒ² Marc" then
         _G.smerchant = "Marc Merchant"
      elseif selectedMerchant == "ğŸ– Matt" then
         _G.smerchant = "Matt Merchant"
      elseif selectedMerchant == "ğŸŒ Max" then
         _G.smerchant = "Max Merchant"
      elseif selectedMerchant == "â„ï¸ Mike" then
         _G.smerchant = "Mike Merchant"
      elseif selectedMerchant == "âš› Marytn" then
         _G.smerchant = "Marytn Merchant"
      elseif selectedMerchant == "ğŸŒŠ Maverick" then
         _G.smerchant = "Maverick Merchant"
      elseif selectedMerchant == "ğŸŒŒ Mel" then
         _G.smerchant = "Mel Merchant"
      elseif selectedMerchant == "â› Milo" then
         _G.smerchant = "Milo Merchant"
      end
   end,
})

local asell = ma:CreateToggle({
   Name = "ğŸ’° Auto Sell All",
   CurrentValue = false,
   Flag = "asell",
   Callback = function(AsellV)
         _G.asell = AsellV
         AutoSell()
   end,
})

local asellinhand = ma:CreateToggle({
   Name = "ğŸ’° Auto Sell In Hand",
   CurrentValue = false,
   Flag = "asellinhand",
   Callback = function(AsellihV)
         _G.asellinhand = AsellihV
         AutoSellInHand()
   end,
})

--Teleport
local Section = tp:CreateSection("ğŸŒ Locations")
local tlocation = tp:CreateDropdown({
   Name = "ğŸ—º Select Location",
   Options = {
      "ğŸŒ² Moosewood", "ğŸ– Roslit Bay", "ğŸŒ‹ Roslit Volcano",
      "ğŸ„ Mushgrove Swamp", "ğŸ Terrapin Island", "â„ï¸ Snowcap Island",
      "ğŸŒ Sunstone Island", "ğŸ´â€â˜ ï¸ Forsaken Shores", "ğŸ—¿ Statue Of Sovereignty",
      "â›ª Keepers Altar", "ğŸŒª Vertigo", "ğŸŒŠ Desolate Deep", "ğŸŒŒ Desolate Pocket", 
      "â› The Depths", "ğŸŒŠ Brine Pool", "ğŸŒ´ Earmark Isle", "ğŸ¸ Haddock Rock",
      "ğŸŒ‰ The Arch", "ğŸŒ³ Birch Cay", "âš’ Harvesters Spike", "ğŸ¦´ Uncharted Island"
   },
   CurrentOption = {""},
   MultipleOptions = false,
   Flag = "tlocation",
   Callback = function(Options)
         local selectedLocation = Options[1]
         if selectedLocation == "ğŸŒ² Moosewood" then
            teleportPlayer(380, 135, 223)
         elseif selectedLocation == "ğŸ– Roslit Bay" then
            teleportPlayer(-1485, 133, 720)
         elseif selectedLocation == "ğŸŒ‹ Roslit Volcano" then
            teleportPlayer(-1910, 165, 317)
         elseif selectedLocation == "ğŸ„ Mushgrove Swamp" then
            teleportPlayer(2500, 131, -720)
         elseif selectedLocation == "ğŸ Terrapin Island" then
            teleportPlayer(-18, 156, 1975)
         elseif selectedLocation == "â„ï¸ Snowcap Island" then
            teleportPlayer(2624, 142, 2471)
         elseif selectedLocation == "ğŸŒ Sunstone Island" then
            teleportPlayer(-933, 132, -1118)
         elseif selectedLocation == "ğŸ´â€â˜ ï¸ Forsaken Shores" then
            teleportPlayer(-2500, 134, 1540)
         elseif selectedLocation == "ğŸ—¿ Statue Of Sovereignty" then
            teleportPlayer(50, 132, -1009)
         elseif selectedLocation == "â›ª Keepers Altar" then
            teleportPlayer(1307, -805, -96)
         elseif selectedLocation == "ğŸŒª Vertigo" then
            teleportPlayer(-108, -515, 1065)
         elseif selectedLocation == "ğŸŒŠ Desolate Deep" then
            teleportPlayer(-1000, -245, -2725)
         elseif selectedLocation == "ğŸŒŒ Desolate Pocket" then
            teleportPlayer(-1500, -235, -2856)
         elseif selectedLocation == "â› The Depths" then
            teleportPlayer(948, -712, 1268)
         elseif selectedLocation == "ğŸŒŠ Brine Pool" then
            teleportPlayer(-1800, -143, -3404)
         elseif selectedLocation == "ğŸŒ´ Earmark Isle" then
            teleportPlayer(1230, 125, 575)
         elseif selectedLocation == "ğŸ¸ Haddock Rock" then
            teleportPlayer(-570, 182, -413)
         elseif selectedLocation == "ğŸŒ‰ The Arch" then
            teleportPlayer(1000, 125, -1250)
         elseif selectedLocation == "ğŸŒ³ Birch Cay" then
            teleportPlayer(1700, 125, -2500)
         elseif selectedLocation == "âš’ Harvesters Spike" then
            teleportPlayer(-1257, 139, 1550)
         elseif selectedLocation == "ğŸ¦´ Uncharted Island" then
            teleportPlayer(4033, 132, 77)
         end
   end,
})

local Section = tp:CreateSection("ğŸ›  Items")
local ttotem = tp:CreateDropdown({
   Name = "ğŸ—¿ Select Totem",
   Options = {
      "ğŸ•°ï¸ Sundial", 
      "ğŸŒŒ Aurora", 
      "ğŸŒ¬ï¸ Windset", 
      "ğŸ’¨ Smokescreen", 
      "ğŸŒªï¸ Tempest"
   },
   CurrentOption = {""},
   MultipleOptions = false,
   Flag = "ttotem",
   Callback = function(Options)
         local selectedTotem = Options[1]

         if selectedTotem == "ğŸ•°ï¸ Sundial" then
            teleportPlayer(-1148, 135, -1075)
         elseif selectedTotem == "ğŸŒŒ Aurora" then
            teleportPlayer(-1811, -137, -3282)
         elseif selectedTotem == "ğŸŒ¬ï¸ Windset" then
            teleportPlayer(2849, 179, 2702)
         elseif selectedTotem == "ğŸ’¨ Smokescreen" then
            teleportPlayer(2789, 140, -625)
         elseif selectedTotem == "ğŸŒªï¸ Tempest" then
            teleportPlayer(35, 132.5, 1943)
         end
   end,
})

local tfishingRods = tp:CreateDropdown({
   Name = "ğŸ£ Select Fishing Rod",
   Options = {
      "ğŸ£ Basic Rods",
      "ğŸ¯ Long Rod",
      "âš¡ Rapid & â³ Steady Rods",
      "ğŸ€ Fortune Rod",
      "ğŸ§² Magnet Rod", 
      "ğŸ”± Trident Rod",
      "ğŸŒŒ Aurora Rod", 
      "ğŸŒ™ Nocturnal Rod",
      "ğŸ” Kings Rod",
      "ğŸ› ï¸ Reinforced Rod",
      "ğŸ´â€â˜ ï¸ Scurvy Rod",
      "ğŸ® Rod Of The Depths",
      "ğŸ¦´ Relic Rod"
   },
   CurrentOption = {""},
   MultipleOptions = false,
   Flag = "tfishingRods",
   Callback = function(Options)
         local selectedRod = Options[1]

         if selectedRod == "ğŸ£ Basic Rods" then
            teleportPlayer(454, 151, 239)
         elseif selectedRod == "ğŸ¯ Long Rod" then
            teleportPlayer(486, 175, 151)
         elseif selectedRod == "âš¡ Rapid & â³ Steady Rods" then
            teleportPlayer(-1510, 142, 761)
         elseif selectedRod == "ğŸ€ Fortune Rod" then
            teleportPlayer(-1523, 142, 770)
         elseif selectedRod == "ğŸ§² Magnet Rod" then
            teleportPlayer(-200, 133, 1930)
         elseif selectedRod == "ğŸ”± Trident Rod" then
            teleportPlayer(-1484, -226, -2201)
         elseif selectedRod == "ğŸŒŒ Aurora Rod" then
            teleportPlayer(-141, -512, 1145)
         elseif selectedRod == "ğŸŒ™ Nocturnal Rod" then
            teleportPlayer(-141, -512, 1145)
         elseif selectedRod == "ğŸ” Kings Rod" then
            teleportPlayer(1381, -808, -302)
         elseif selectedRod == "ğŸ› ï¸ Reinforced Rod" then
            teleportPlayer(-989, -243, -2693)
         elseif selectedRod == "ğŸ´â€â˜ ï¸ Scurvy Rod" then
            te